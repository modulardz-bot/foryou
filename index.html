<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Surat Untuk Wita</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background-color: #121212;
      color: #e0e0e0;
      font-family: 'Segoe UI', sans-serif;
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 100vh;
    }

    .container {
      width: 90%;
      max-width: 720px;
      padding: 40px;
      border-radius: 12px;
      background: #1e1e1e;
      box-shadow: 0 0 20px rgba(255,255,255,0.05);
      text-align: center;
    }

    h1 {
      color: #ff7675;
      margin-bottom: 20px;
    }

    .media-player {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 30px;
    }

    .media-player p {
      margin-bottom: 8px;
      color: #aaa;
      font-size: 0.95em;
    }

    .progress-container {
      width: 100%;
      max-width: 400px;
      height: 8px;
      background-color: #555;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px 0;
      position: relative;
    }

    .progress {
      height: 100%;
      background-color: #ff7675;
      width: 0%;
      border-radius: 5px;
    }

    .time {
      font-size: 0.9em;
      color: #ccc;
      margin-top: 4px;
    }

    input[type="password"] {
      padding: 10px;
      width: 80%;
      margin-bottom: 20px;
      border: none;
      border-radius: 6px;
      background-color: #2d2d2d;
      color: #fff;
      font-size: 1em;
    }

    button {
      padding: 10px 20px;
      background-color: #ff7675;
      border: none;
      border-radius: 6px;
      color: #000;
      font-size: 1em;
      cursor: pointer;
      transition: 0.3s ease;
      margin: 5px;
    }

    .navigasi {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 30px;
      flex-wrap: wrap;
    }

    .navigasi button {
      padding: 12px 35px;
      font-size: 1em;
      background-color: #2d2d2d;
      color: #fff;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s ease;
    }

    .navigasi button:hover {
      background-color: #0984e3;
    }

    .layer {
      display: none;
      white-space: pre-wrap;
      word-wrap: break-word;
      animation: fadeIn 0.6s ease-in-out forwards;
      text-align: left;
    }

    .active {
      display: block;
    }

    .hidden {
      display: none;
    }

    .dashboard-text {
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      margin: 0 auto 25px;
      max-width: 100%;
      padding: 0 10px;
    }

    .dashboard-text p {
      font-size: 1.1em;
      line-height: 1.6;
      margin: 0;
      text-align: center;
      word-break: break-word;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/crypto-js@4.1.1/crypto-js.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>Surat Untuk Wita</h1>

    <div class="media-player">
      <p>üéµ Cardigan - Taylor Swift</p>
      <div>
        <button onclick="playMusik()">‚ñ∂ Play</button>
        <button onclick="pauseMusik()">‚è∏ Pause</button>
      </div>
      <div class="progress-container" onclick="setProgress(event)">
        <div class="progress" id="progressBar"></div>
      </div>
      <div class="time" id="timeDisplay">0:00 / 0:00</div>
    </div>

    <audio id="audio" src="cardigan.mp3" preload="auto" loop></audio>

    <div id="loginSection">
      <p>Ketikkan sesuatu untuk membuka halaman.</p>
      <input type="password" id="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
      <br>
      <button onclick="bukaSurat()">Masuk</button>
      <p id="errorMsg" style="color:#d63031; display:none;">Salah. Coba lagi.</p>
    </div>

    <div id="suratSection" class="hidden">
      <p id="counter" style="font-size: 0.9em; color: #999;"></p>

      <!-- Dashboard -->
      <div class="layer active" id="dashboardSurat">
        <div class="dashboard-text">
          <p>Halo... ini surat yang pernah aku simpen untuk kau. Ini aku bikinny full time, tolong dibaco ee. Mau mulai baca sekarang?</p>
        </div>
        <div class="navigasi">
          <button onclick="bukaSuratAsli()">üìñ Buka Surat</button>
          <button onclick="window.location.href='https://google.com'">‚ùå Nanti Saja</button>
        </div>
      </div>

      <!-- Tempat surat terenkripsi akan ditampilkan -->
      <div id="semuaHalaman"></div>
    </div>
  </div>

  <script>
    const encryptedSurat = {
      halaman1: "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",
      halaman2: "U2FsdGVkX18Lie0u+zIEDT8bArmBpuSmTTEMywvQwMgGQgm5NQ6LT+7wzyDbhNmM1hj2Y8xUEIzAWMGXK2niGlNCX5Kk8CluKpQq4jwDNOMMXdnReVOMnz17LyYcAgf94KGe5AiWA3vsoW8M8V8L/q2+6CpiI8XmxLdyJNk8kR/aeA9+XPZYOGTgYhDmNhGTHdYTki10GPRtDzLYCPe6AZxE1xV46g8LaOw1bW3wDM0fZAXVpGhCslwqlWsZ5nps88RmDudC2FbUpTW9osrnoDd7Ejox/lt1tohhSc9wCMDyhh/t6Bi8Bk0emoqmvWZTkHhT2abbXG5w9JmgQv6F1IVEfbUp7edrQys95Lrq8IG6bkiZ6g8sAb5dN/ExOZvswYXjTCN0eUqwA3jR8jXuDz65d7LWCtd2YNYHPnxy4M/uBVLfBG23pA9QzN7yViknlnMzGAB1QsGBPNTQSd6I6DwiFzGzAnhi6tfYTwqgkBUx/v7EhfZpYUbBmbhIt7ukYdFvFLAzOsAhCJ6nNWJB1YRq9s83oC5fKBhGrt0ent+Aaw4mZaZPmDG05vqnm5QrwqeSq2i/51gM9pUnvuiVxycpqFIgo6xjkxYfcGs/mkp46Ftpa/yIw4qdH4EUviz4F8sElixnNBD7zEOOnL//b1tfm3nb2+iHbux6e4+Z/UZ1Mlo3aPDuO3HHk1nbk/T4zKT/VAqDqwnwesNEyx3nwFCBjCz5n5n/fCUBIf/dyRUJhl3U7tJU5ePhaUCiSEs08+2R9ncNemxFMz+GXJWTU57Voazza1/YP1odeN+9h5aRiK32IX1k/2YjZwPmxBNwi9EHjWJ/3PCxXW01hwEYaUXIb+wphu963yMFuYT3pJrDMqHeLj/jMFu3SzfHu7FAp5E8xZVWBp4kkP6aIKgGPVRJVSRbCCtDVOrYJjWlZWl2n04PTgHL+V30tAITZX2QKcSQnBcs1gCKviKVqfbEmHCQuPl2jkBDDsOBC66gYvvD6RX6bCBK4C21QA3gl01Gun2N0cjwAbLzLY1g/QNhJT/bV2e7Gn0G7Mkj9LN89EteOv9wD6UJd7uoom8DmKkEAYYIoW3j3IagixvqrSYEWkkycK51C90ZbUcYb2pMJDToWe8YAeLv3RUfeB/SatXAWDCemhIYq0h2M9dgL5hMPc0RyN5zlqZyoHCjNXI6Uw8UFuHLFu6MhoEIeZ9RGjgsdAPLAWubgd9QxBmdrtjpHz5Rt2sVSzbsbocvdLd+DWK2V0x3tsnmE4Ujo0FKMFRZ0xIWu7gf/tk+wUfZGdAnA5vSXoVd/h74CQnFRNCykMA/Ya7Z2TyaPsJN/EY1NZS/Thkt9DjSPP9EyIuWScw+myWJ56uHMYaiLgtg8fbRLpYRsuBgcw3l3AN3jDZCFVkzRenRzxwgzG22crCGmiTnqM/7QGeuqhXPmUxI/KlBphvkiaT2m1HIPweUybp/TLZMKEV9stdVAqAicF09cMuvEwNk7yfQw4gtetN47gg/HQzfLW4ftkaA9qSj3uVh0nWg2/zPPdspk+c3CLWhfVUbGr7v9HiQQw1CJBNaTMGI+1CRaN8pJtHmPHJAZ4Uz4fh97EUhmFlwZhHBrVe+fZljB4QUQAuQLvdxiceqUY8PPAF4ICNFmgVlNeK5u5/EiwD6xi7RXK14n95Ix/jp3X4+lP/SDZbSzGSKPduhMKoSzQI=",
      halaman3: "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",
      halaman4: "U2FsdGVkX1+5PQji9PA5PlA7rQlCpu84b8SPT0oqSFWFRXXfDn/XPSJoV6vIKqkxRsk13Q77jumvKKplvbTnpEJYOEwL+3IS+5OoZ83Yhkh2fVoCoywEhnZxqReeadjZJm8gerbeJBc/xghV2TwXy6zlUwLnZYRoaZG7V7ehJXbK97pq2ZnlhK7zTjcOIneN02r7fHWW765PBgdWwh0ge3FAg3sHPKsJMCu75km+MdS1DScg0DAVRHDc1jzOwpIQJ0TXB7jfydr7a9KxU+bLmlmuc6eSyUss4bxy+pEnSWwXTylpAsV6U0Qy12RrKCjoOmEMMY1L5kWr4hwMu08WPLsQiPIU+f0ryu/miYnuKm29vkas7dJQ50b8TDIOgXrSgG9gfVS84txgMu0hQh+pR2OhRa0w6Md6iFywCxwKzg5LQethBTUs0ojwGx4q3mahdDujf3+LyKVsYGiuI1/irc61P1Khx2PBDIMrnd5GBbQCncS1mV3BJHtEiQAhZ6EJxHFC8c/ccE4WZ+sts3gs2jlbnN5+z5h3cExZjbkKViwK1HSAFRg8qti0W8Jh43btpuuoTeOODsehMlI+omBOGMIUn+Q7ekXKo0AKhtRmWntQ6Kmcu+M+Awn0TpOQHKLwDjj+XSloWXCchvxrcPzlzajClkbXgH4Az7oWlzWudFPG9ncVuzQrau6AuJXuV2Zod/uQXRL7T7rf3cOD7Nc2cLYrdTapJ/dxw91wTMySW9Gaq0ZijxaIVwdiFTTkVEGoOL714kZQ+1OlDSKBISWfes1DKUZrpgTZVgCfGcQGiWitC3tgkpObL6P92p8JvrYlMrqhC5uBNxBpw7U2LcHBj9UZkrJeWz7nzOjs9ZY1kMPCsdf9gB+x9+5F6mkSovaYXtZtUEpwEFHtVV8izKY3eSXWPwfCNN7RRb8DyjhQz1gzHWV0fYzL02Xp84FQlTz+BkLpo5n+REFJEUl98yhMPbVRUixRDCPbxvM027Q7D/BrKHKxf/H3a0N5nIns9jyT1o7tR+CTj8DiSmlvgbR0ZToru45M4YWVhVc6Dqtt/vBYgvqHjzbIl66p9iY9cRM7JS4V6XsOrV3gvcXgRg9oJCDQ/Ena9AN2V8m8374y2JddySF0tDqT7zz0e79hWwGv1wQuCr5K8XU1pYenWhItWRc7TQPCXnGTSi7Y5fTzBArL/prQq5EnEiF3kKaR+bffkHOkbSN0J6g8zRd7cqAWtQLSLwtrgdwZfk9IlmaAcOz+E+ZyoLb6oGQhuLBaLYRjMT/+yfpDfWgEnRZ0bGJ0esKAjtg/kim61rNKNXVnoxMfSFqoYm19bNKoNCfoynvmlrThjbvRqLNIjp4TYqp1sHkv0GWHX+beJVjfBNaRBERiRyfdfyNaLg+EuPJVZkM9cj4A71OwxtiC+AtYnPPslKjypHmafNDuNxWE+cA50JYbwSG9dHw2bPsnH5kBaat9iK4HoFtPMXr81dTjsw9YIss8rS2SfHwdEXMFaiWZOfORGCMmPTV8ZPoJ4EpNuSy7",
      halaman5: "U2FsdGVkX18vPREEUxXnzzH/lb8PMcmyP5O4pqlAylwZe8JO6OmzqPIC6mQlXcFGNXYWRkOSA6D5qEmwCZfad2MsBY97ONwxzWkq8+QSHVS3RJSgIwVLKIFo0M4/SlXV16qWUhF/Ts7kzsGKQ/9CKFW+fhr+ZSzjYSk23et145jn6XkZ+NzIzz1iGUKoqpYzJj5/MTmdkADkw8lV2czJnJrnHoGCXitf/3XSGmDyQJL9pDUjKE8ZbDHG9poPDyctP/OtA2V3QsA0fjLo5fkQyj1wlVikLzXZfFZdFTl7ldDl4r+3SdU1XPgBXoBczbS0/cT/l71J0rFjvKPQF1AUy0hCSYYwhT3hTIq+c706qLHsjeBQHNfxtq5WvNiOY3ZYvqc71JQzD+fRpikF592ruS589xOPUOVmFy+WFO88zqappyqTtFtkmX0NfUJ740ckyrlOf0nnFlWUBCjj/ubsLnVPwFwsnPxCaw/cp7MQbWwaYnRmzweTh8x+8MHg394fwtY6B5TzszmL0s6RFMddx9PKLhDLQwrDPfT1xltdos8rGzL65mxQ0WagbChBhG+HxOc/8yCwQWdzA8pPjam3KrUC33Rsp+3yD+cciFVnukMTDHjP7xJ2gb9YdD0dYj4Ap/eFuC1DWt62yqm9DXsqUymjt0GIc825qK2P6Z59JJAOV1jFtlckmFUFhuU/aw0w/f0uv9TnHMlKjDkDRDgSBm18k3v+nW4wjZSZdjYVABjr1iiVDzhtHhusxoMDMDHv/Yo4zO64oNIH8yzl2U5hp+jGb2adzDkOMOY2RKesXfnamtCP3+HIJsUMlvWXq2QDwiS6aQeGqrOhUMnEb77GmzdiSAgfG5JgYk6qkmrTyV3nJ/NqCYeQ37Mw/2ZOQgcAiCHYZxVBvjf/rvNJSe5TBX2JhrfANcDn4dFBdavny1GaNCqOWkGpVH3D0ygsGhUCknpoFySSvyuUWipYAWpejbbteD/7FYfivHMgNjI8dCylkE7x3py63AjH9pn39Pb0zY5P7elm+lzQamaSfy7TWJWEf0C+mw6UuMU7alUEObNo5nrkABxbYWaVgR1B+s89IPSLU5zrQu9QrLxPJo7FmRletCkhK1mqQQkAlH4ypufYbiRU2lW0Mkhy1gWW0G70opsby8nBAra1+Y96d8xCgZjtNo/spC+Xu/5rxLAZLrXSpYkayUuAVQZ5ads2a/5+I8DroFmz9ImBvmwEgOsONXJAihru05zLxv4JzupcQD1cQ8c/J/wVvZtLDWYIywGQ2V1ckRsapu2YbkGHCcfB0XKHfIyF1A3E4s3RaMH/W64ieAX5G/bzDW0vIZdjs9ulAGBQPwN6UYJDjxTFn2jA+f4IeF0pZ/YJ6Eo/N6Z8U9QfKRcaPC46KYlTReseJAG9bD6dKHbcb+8DJy/Sx82IdKSdt/gNwFf+xLbWz51Ym7dQqOwuHKTc6QOKW53yMHYYwtwKmogKo5XyYIrGf1zHbbKTq+NCHdz/9dPUsCfjaM4N5o4xr3ebkUgO1a0ZYZqcHcgN7VK2i5nY62kR4pVRkViyN3AKUlIoHbaM8QaikXZxPH25cOHxw02Dv5KurbBhQom0m9JXUQefpjkcTrNZBBzDbV85nhiLntSRYQo2WFppNFTYvvpjcVapG2tOUJC8IT2FiRDWTI2eAOcrgnC0jVHgcSuMgxA6+LqOt+BHdllghePlcCyxvP9VOSeD7NtU50I90X9a5P2DM+XJQixK6kXakOugbOIC7BSBoDoG8fl7kRSL0A8gqAiKswoXCeyxnHEnLj77yXFPHxlB9BS58NX9RBFS/KsWyekWWj9MDPo=",
      halaman6: "U2FsdGVkX18TupJZuGkhTnwynS3AVqbYmbIDg4d73WfBA5HKblPcKOyvnt7pRngWk6KTFWgrL36hoJ/kdE1AFzMabaqh5iCI0PBlnn/xqMt6k7ENsMEODhg+NDQ9NTIbJMpiZHLEXo4Z5HzdyIQbMs/FoLKMncaRAZGrHuh469EgLny2cdtaj8nRTqfyNJ0J0QKIn6oNrxKzs7qoX0H6WtwRTdWTFKiaxU+m6BS3GpdtsO7NjOOh1m+IcIo7C/Nv0/+xXl3NLYMwlp3r/fvkA8xwcWQUv0fv4CdB79p2AX4pI/Gy3B+HH2ibkHwDVhb97eOlB3LUj0YpxJYzA+779JPYJmn+SK4rvAWcyHYEHFXlAW7iaJ6tNhAO1JGgWLci0I2nHejt1GH3NaSBHv15NR8d7V34JcwrkX7vt87U9eA3rhwuuyYr03vPNGkT15JaL7KAgORNzj1ukXLF1nPeAxsGj9kL16hcyV+s12eeOZjy08B/fVM32vwq1wo/5c7JIpbeRY8hX9cTY5NbWA7SpfCfjRDipP6MF8TdLAK7QYTGynC9wCmL+pq9eP2J1Ec5FeAsyUiNPfUHlbHUkAutFIg2Hui07pZerPYuQXdb01KGEidDH/VMdMwonyYXi7AeaqZyFezx5EN529Gszv55szD///AvJvYrO9R4b7ezf00D+sAxRq0aF59qNLDpL0s2mNMZe0A3UbdLNGMDTdsPEoj+9HPnOqPJzNTerz6wdIwFHfUIk/8fb6yOmMIRVm2kvxM8NkNMogxFXLKS5wwoL3OOfXIWgNSfGW5wctsQW236GpKQdjn+Np5J7/qQfJm3Za9G/qzSr+61mTJSy+EArYhFBrdqfjiZDEG4Xfw98sQBQg7OIhogzag12NvTYwlsK8XClFdgTJdqpMWtCoVIZu9NiIY8BnjbP6Flp+R4JOgDMSgoezCjWLpXfOkCDlTPcb3zOjxGHxq63Wj1EVr5gykoKsX4L2ZNA1+tSOl2fc02deLbwoEOySmS6dqIrJFjP3cz8GLGMQ/6aN9ppqHiM9GxY+kd1wkjS/tSF5bShGc7mZ6WQy8HWWldVLR6ziGCMpmkfJ0jMhHTiff+suCpI6i6vDlaVO18I+tFbcGOGKNqRuZMPss5YVAoOQ3M673QxcNC0eEKeijeZ9qGRrV4MIrLTlURNtzjkh0KUg/NgDVhGEXHVLLone1DWbHyfgc/j8dKH/RVvVAEiai1OB5xOLQdf9tmeIinnEnXB1J5H3vVAcm15aMKQJOfRCIXFr6cu3g/NUPyhHQ2kF2ecSfBpeUCRb8kQGhTfi4yJz0X5gJHjjvMH7w1fYfbwrsmjLPT8ojQPjhUcO9fO9uCmecEUfn4D2EmyuLhHsHfrG/CzE8eVyaEP6dbf1dGwXp7T/FSN8G9MRKx9XP9mtpRrAht0Ri2DjjFBRO0cukJMYxUOoQlDT5K+XTqVSpvyrJScwxP4iECX9//sPWJF2wiQ3uQ2nVb6u6ldCGfe225Ct3K/owMEydSFYLhIN3TEhFpi0zMG1Azh1TzkfWlvRAc0INTrdrGmMqi0UPc2kkw8RtjqnbjMXdQORa7z2s4HQNKHHG9kJPP4iqTtGLnQklZRF8uNZc505dMNKOo7E9aqyD63HKLi9zYH+ciGWqo+S3KhoaDwaBwFY4VwwSSwgRF0LIb6Z68Rxhohuy8evjcmSjkL6bls+i3WkmfZw0UsHt7MVSXtTbT9d/hJ7xBLI6MrarBXEiqSTUb3U6y0aCDSd0ppq791QeZWdbnjxHhEEPSq/9f2Mot/YDTX4xyIRsLYbUH91DJgQBGVlvpvT546dJX9nLzdJDWTJrBc1NWod+7i5z+m39YgTzipDzTyu6x4hW3qHO7CAOiX8Kaana8tlPibCAZGiyU5tPUZau8NON9bgIFJNEBS+H7n5Exrjbgzms6LppeFUCyVMHqKWhqpDGdbLjUguoaAcAfQfkvPemClHHSDBH71/2hzwBGA2pGXXH/MqDCl+9+vnRof/UI45uRfgNkGDmWsahSNOUdP/dmg6j4GbXfrSJjRt0YBYXN4dH/60gXaYYQOksCX8bm8zG5BhNgcSb9uAvZ0Vy/b5bBVHSjtZAkSVvKFukPHU5jORRMubK/3jYxvZ/MNLp7Zwy++ePlpmguVl0+eP6vkVdt5FyAXdlCM2gHCJe60J9hezkJ2enrOOU2vt3nWdmjEJO8juau5apV48ztnQBRQKkU/UgTY5s4uwmx9FECiHUIpRVAVDl+gf4Kg/533Ey/mEmRjhV2+DEYqDeIEXmnHOhvGz4m",
    };

  const audio = document.getElementById("audio");
  const progress = document.getElementById("progressBar");
  const timeDisplay = document.getElementById("timeDisplay");

  const passwordHash = "f09b133c45f78e374cd650c77229de1a5ea54dc4d2d3ca9bb1ddfe3c496f7939";

  audio.volume = 0.6;

  function playMusik() {
    audio.play().catch(err => {
      alert("Gagal muter lagu: " + err.message);
    });
  }

  function pauseMusik() {
    audio.pause();
  }

  function updateProgress() {
    const current = audio.currentTime;
    const duration = audio.duration;
    const percent = (current / duration) * 100;
    progress.style.width = percent + "%";

    const format = (t) => {
      const m = Math.floor(t / 60);
      const s = Math.floor(t % 60);
      return `${m}:${s < 10 ? "0" + s : s}`;
    };
    timeDisplay.textContent = `${format(current)} / ${format(duration)}`;
  }

  function setProgress(e) {
    const rect = e.currentTarget.getBoundingClientRect();
    const clickX = e.clientX - rect.left;
    const width = rect.width;
    const percent = clickX / width;
    audio.currentTime = audio.duration * percent;
  }

  audio.addEventListener("timeupdate", updateProgress);
  audio.addEventListener("loadedmetadata", updateProgress);

  async function bukaSurat() {
    const pass = document.getElementById("password").value;
    const encoder = new TextEncoder();
    const data = encoder.encode(pass);
    const hashBuffer = await crypto.subtle.digest("SHA-256", data);
    const hashArray = Array.from(new Uint8Array(hashBuffer));
    const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join("");

    if (hashHex === passwordHash) {
      document.getElementById("loginSection").classList.add("hidden");
      document.getElementById("suratSection").classList.remove("hidden");
      playMusik();
      hitungHari();
      gantiHalaman("dashboardSurat");
      renderHalaman(pass); // pass jadi kunci dekripsi AES
    } else {
      document.getElementById("errorMsg").style.display = "block";
    }
  }

  function bukaSuratAsli() {
    gantiHalaman(1);
  }

  function gantiHalaman(n) {
    document.querySelectorAll(".layer").forEach(el => el.classList.remove("active"));
    const target = typeof n === 'string'
      ? document.getElementById(n)
      : document.getElementById("halaman" + n);
    if (target) target.classList.add("active");
  }

  function hitungHari() {
    const awal = new Date("2025-06-24T00:30:00");
    const sekarang = new Date();
    const selisih = Math.floor((sekarang - awal) / (1000 * 60 * 60 * 24));
    document.getElementById("counter").textContent =
      `Surat ini sudah disimpan selama ${selisih} hari.`;
  }

  function renderHalaman(kunci) {
    const container = document.getElementById("semuaHalaman");
    container.innerHTML = "";

    for (let i = 1; i <= 50; i++) {
      const key = "halaman" + i;
      if (!encryptedSurat[key]) continue;

      const div = document.createElement("div");
      div.classList.add("layer");
      div.id = key;

      const bytes = CryptoJS.AES.decrypt(encryptedSurat[key], kunci);
      const isi = bytes.toString(CryptoJS.enc.Utf8);

      const p = document.createElement("p");
      p.textContent = isi || "[Gagal didekripsi]";
      div.appendChild(p);

      const nav = document.createElement("div");
      nav.className = "navigasi";

      if (i > 1) {
        const back = document.createElement("button");
        back.textContent = "‚¨Ö Kembali";
        back.onclick = () => gantiHalaman(i - 1);
        nav.appendChild(back);
      }

      if (i < 20 && encryptedSurat["halaman" + (i + 1)]) {
        const next = document.createElement("button");
        next.textContent = "Lanjut ‚û°";
        next.onclick = () => gantiHalaman(i + 1);
        nav.appendChild(next);
      } else if (i === 20 || !encryptedSurat["halaman" + (i + 1)]) {
        const done = document.createElement("button");
        done.textContent = "üè† Kembali ke Dashboard";
        done.onclick = () => gantiHalaman("dashboardSurat");
        nav.appendChild(done);
      }

      div.appendChild(nav);
      container.appendChild(div);
    }
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
</body>
</html>
